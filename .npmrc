# Fix pour toutes les erreurs npm install connues

# 1. FIX: Résout les conflits de peer dependencies (discord.js 14 vs autres)
legacy-peer-deps=true

# 2. FIX: Évite les erreurs ERESOLVE qui bloquent l'install
strict-peer-dependencies=false

# 3. FIX: Augmente le timeout pour les packages lents comme canvas
fetch-timeout=300000
fetch-retries=5
fetch-retry-mintimeout=20000
fetch-retry-maxtimeout=120000

# 4. FIX: Évite les erreurs de permissions sur npm cache
audit=false
fund=false

# 5. FIX: Force l'utilisation de scripts post-install (nécessaire pour certains packages natifs)
ignore-scripts=false

# 6. FIX: Désactive la progression pour éviter les timeouts sur CI/CD
progress=false

# NOTE: 'optional=true' et 'cache-min' retirés car dépréciés dans npm 10+
# - Pour ignorer les dépendances optionnelles: npm install --omit=optional
# - Pour utiliser le cache offline: npm install --prefer-offline
